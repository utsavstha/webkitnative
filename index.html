<html>
<script>
    // Function to get data from Native
    window.getDataFromNative = function(data) {
        window.callbackForNative(data)
    }

    // Empty callback function, which can be reassigned later
    window.callbackForNative = function(data) {}

    // Somewhere in your code where you want to send data to the native app and have it call a JS callback with some data:
    window.callbackForNative = function(data) {
        // Do your stuff here with the data returned from the native app
        window.webkit.messageHandlers.payUPSC.postMessage({ param2: data });

    }
    window.webkit.messageHandlers.payUPSC.postMessage({ param1: "stuff"});
</script>

</html>
